\chapter{Schemata}
\label{ch: schema}

Die Schemata speichern die "rohe" \textbf{pseudonymisierte} Information der ursprünglichen Systems oder die Metadaten. Diese Daten werden in Views analysiert oder weiter verarbeitet für andere Anwendungen oder Projekten. Wichtige Hinweis ist, dass die Daten in dem Data Warehouse unverändert bleiben sollen.

Die Dokumentation der Views für Datenqualität liegt in einem anderem Dokument.
  \section{p21}
  Dieses Schema speichert die jährliche Information der \S21, die von Medizincontrolling in CSV-Dateien generiert wird. 
  
  Der jährliche Rhythmus ist zu groß, als dass die Daten bspw. zur Rekrutierung von Patienten für Studien aber auch zu Forschung genutzt werden können. Auf diesem Grund wird diese Information in der Zukunft nicht mehr aus CSV-Dateien genommen sondern direkt aus dem \ac{kis}.

  \subsection{Tabellen}
  \begin{table}[ht]
  	\centering   
  	\caption{Tabellen im Schema p21}
  	\begin{tabular}{||l|l||}
  		\hline
  		Tabelle & Beschreibung \\ [0.5ex]
  		\hline\hline
  		\texttt{p21\_encounter} & Information der Datei FALL.csv: Fälle \\
  		\hline
  		\texttt{p21\_department} & Inhalt der Datei  FAB.csv: Fachabteilung \\
  		\hline
  		\texttt{p21\_operation} & Information der Datei  OPS.csv: Operationen \\
  		\hline
  		\texttt{p21\_diagnosis} & Basiert auf der Datei ICD.csv: Diagnosen (\ac{icd10gm}) \\
        \hline
  	\end{tabular}
  \end{table}
  
\subsection{Views für Tools}
In diesem Schema befinden sich auch die Views für \ac{etl}-Prozessen die, solche Information aus \S21 benötigen. Der Inhalt dieser Views entspricht die Formatierung der \ac{khentgg} \S 21 Übermittlung und Nutzung der Daten.
     	\begin{table}[ht]
     	\centering   
    	\caption{Views im Schema p21}
     	\begin{tabular}{||l|l||}
     	
     		\hline
     		View & Beschreibung \\ [0.5ex]
     		\hline\hline
     		\texttt{fall} & Falldaten \\
     		\hline
     		\texttt{fab} & Fachabteilungsangaben \\
     		\hline
     		\texttt{icd} & Diagnosenangaben \\
     		\hline
     		\texttt{ops} & Prozedurenangaben \\
     		\hline
     	\end{tabular}
    \end{table}

  \section{kis}
   Hier werden die tagesaktuellen extrahierten Daten zu Patienten, Fällen, Bewegungen, Diagnosen und Prozeduren direkt aus dem Quellsystem \ac{kis} gespeichert. Mit Hilfe diesem Schema lassen sich viele der Abbildungen für weitere Projekte realisieren.
  
   \subsection{Tabellen}
  In diesem Schema behalten die Tabellen denselben Namen wie in \ac{kis}. 
   \begin{table}[ht]
   	\centering   
   	\caption{Tabellen im Schema kis}
   	\begin{tabular}{||l|l||}   		
   		\hline
   		View & Beschreibung \\ [0.5ex]
   		\hline\hline
   		\texttt{nbew} & Bewegung \\
   		\hline
   		\texttt{ndia} & Diagnosen \\
   		\hline
   		\texttt{nfal} & Fälle \\
   		\hline
   		\texttt{nicp} & Prozeduren \\
   		\hline
   		\texttt{npat} & Patienten \\
   		\hline
   		\texttt{norg} & Organisationseinheiten \\
   		\hline
   	\end{tabular}
   \end{table}
  
  \section{\ac{pdms}}
  Hier wird die tagesaktuelle Information aus dem COPRA-System gespeichert. Dieses Schema beinhaltet Befunde, ärztliche Anweisungen und Überblick über Behandlungsschritte.
  \subsection{Tabellen}
  In diesem Schema behalten die Tabellen denselben Namen wie im COPRA-System. 
  \begin{table}[ht]
  	\centering   
  	\caption{Tabellen im Schema copra}
  	\begin{tabular}{||l|l||}   		
  		\hline
  		Tabelle & Beschreibung \\ [0.5ex]
  		\hline\hline
  		\texttt{co6\_data\_decimal\_6\_3} & Metadaten der nummerischen Messungen \\
  		\hline
  		\texttt{co6\_data\_object} & Metadaten der Messungen von Typ Objekt\\
  		\hline
  		\texttt{co6\_medic\_data\_patient} & Demografische Information der Patienten \\
  		\hline
  		\texttt{co6\_medic\_pressure} & Daten der Herz-Messungen\\
  		\hline
  		\texttt{co6\_config\_variables} & Variables in copra\\ \hline
  		\texttt{co6\_config\_variable\_types} & Art der Variables in copra\\ \hline
  	\end{tabular}
  \end{table}

  \section{gtds} 
  Dieses Schema speichert die Daten der mainzenen Instanz des \ac{gtds} und somit die Erfassung und Verarbeitung der Daten der revidierten Basisdokumentation klinischen Krebsregistern.
  \subsection{Tabellen}
  Dieses Schema hat momentan nur eine Tabelle. Die ist auf eine View auf eine Auswertung auf die Daten des \ac{gtds} basiert.
  \begin{table}[ht]
  	\centering   
  	\caption{Tabellen im Schema gtds}
  	\begin{tabular}{||l|l||}   		
  		\hline
  		Tabelle & Beschreibung \\ [0.5ex]
  		\hline\hline
  		\texttt{auswertung\_diz} & Auswertung auf Daten auf \ac{gtds} \\
  		\hline
  	\end{tabular}
  \end{table}
  \section{centrallab}
  Hier werden die Daten aus dem Zentrallabor (Institut für Klinische Chemie und Laboratoriumsmedizin) gespeichert.
  \subsection{Tabellen}
  Die Tabellen speichern die Messungen sowie Mapping zu LOINC-Code.
  \begin{table}[ht]
  	\centering
  	\caption{Tabellen im Schema centrallabor}
  	\begin{tabular}{|| l | l ||}
  		\hline
  		Tabelle & Beschreibung \\[0.5ex]
  		\hline\hline
  		\texttt{observation} & Laborwerte der Patienten \\
  		\hline
  		\texttt{observationreport} & Verlinkung der Laborwerten mit Fälle und Patienten \\
  		\hline
  		\texttt{loinc\_mapping\_central\_lab} & Mapping der LOINC-Code zu der Messungen und/Geräte \\
  		\hline
  	\end{tabular}
  \end{table}

\section{imagic}
Hier wird die Information aus dem IMAGIC-System gespeichert. Dieses Schema beinhaltet Information aus der Hautklinik. Davon Metadaten der Bilder sowie Befunde anhand der Bilder.
\subsection{Tabellen}
In diesem Schema behalten die Tabellen denselben Namen wie im IMAGIC-System. 
\begin{table}[ht]
	\centering   
	\caption{Tabellen im Schema imagic}
	\begin{tabular}{||l|l||}   		
		\hline
		Tabelle & Beschreibung \\ [0.5ex]
		\hline\hline
		\texttt{image} & Metadaten der Bilder \\
		\hline
		\texttt{patient} & Patienten Informationen \\
		\hline
		\texttt{study} & Information der Studien an der Hautklinik \\
		\hline
		\texttt{visit} &  Besuch/Fall-Information\\
		\hline
	\end{tabular}
\end{table}

  \section{metadata\_repository}
  Dieses Schema speichert die Information der Metadaten aller anderen Schemata.
  
  \subsection{Tabellen}
  
  \begin{longtable}{||l|l||}
  	\hline Table & Beschreibung\\ \hline \hline
  	abschluss\_grund & abschluss\_grund\\ \hline
  	ann\_arbor\_allgemein & ann\_arbor\_allgemein\\ \hline
  	ann\_arbor\_extra & ann\_arbor\_extra\\ \hline
  	ann\_arbor\_stadium & ann\_arbor\_stadium\\ \hline
  	applikationsart & applikationsart\\ \hline
  	applikationstechnik & applikationstechnik\\ \hline
  	arzt\_anlass & arzt\_anlass\\ \hline
  	autopsie & autopsie\\ \hline
  	behandlungsanlass & behandlungsanlass\\ \hline
  	behandlungskategorie & behandlungskategorie\\ \hline
  	behandlungskategorie\_tmp & behandlungskategorie\_tmp\\ \hline
  	bewegunsart & bewegunsart\\ \hline
  	bewegunstyp & bewegunstyp\\ \hline
  	body\_localisation & body\_localisation\\ \hline
  	complication\_level & complication\_level\\ \hline
  	copra\_biosignal & copra\_biosignal\\ \hline
  	copra\_variables & copra\_variables\\ \hline
  	country & country\\ \hline
  	country\_tmp & country\_tmp\\ \hline
  	deathcause & deathcause\\ \hline
  	department & department\\ \hline
  	department\_code & department\_code\\ \hline
  	department\_code\_mean & department\_code\_mean\\ \hline
  	department\_prefix & department\_prefix\\ \hline
  	departmentkis & departmentkis\\ \hline
  	diagnosis\_additive & diagnosis\_additive\\ \hline
  	diagnosis\_certainty & diagnosis\_certainty\\ \hline
  	diagnosis\_type & diagnosis\_type\\ \hline
  	diagnosis\_type\_icd & diagnosis\_type\_icd\\ \hline
  	diagsich\_hoechste & diagsich\_hoechste\\ \hline
  	drg\_prozedur & drg\_prozedur\\ \hline
  	einrichtung & einrichtung\\ \hline
  	einweisungs\_ueberweisungs\_nachbehandlungsart & einweisungs\_ueberweisungs\_nachbehandlungsart\\ \hline
  	einwilligung & einwilligung\\ \hline
  	erfassungsanlass & erfassungsanlass\\ \hline
  	fachrichtung & fachrichtung\\ \hline
  	fallendes & fallendes\\ \hline
  	fallstatus & fallstatus\\ \hline
  	falltyp & falltyp\\ \hline
  	gender & gender\\ \hline
  	gtds\_datenart & gtds\_datenart\\ \hline
  	herkunft & herkunft\\ \hline
  	histo\_diagnose & histo\_diagnose\\ \hline
  	histo\_grading & histo\_grading\\ \hline
  	histo\_haupt\_neben & histo\_haupt\_neben\\ \hline
  	icd & icd\\ \hline
  	icdhistory & icdhistory\\ \hline
  	inter\_status\_amb\_besu & inter\_status\_amb\_besu\\ \hline
  	lok\_haupt\_neben & lok\_haupt\_neben\\ \hline
  	lok\_rezidivart & lok\_rezidivart\\ \hline
  	lok\_seite & lok\_seite\\ \hline
  	lokalisation & lokalisation\\ \hline
  	movementtype & movementtype\\ \hline
  	op\_intention & op\_intention\\ \hline
  	operation\_katalog & operation\_katalog\\ \hline
  	ops & ops\\ \hline
  	opshistory & opshistory\\ \hline
  	orgtype & orgtype\\ \hline
  	p21\_admission\_cause & p21\_admission\_cause\\ \hline
  	p21\_admission\_reason & p21\_admission\_reason\\ \hline
  	p21\_admission\_reason\_1\_2 & p21\_admission\_reason\_1\_2\\ \hline
  	p21\_admission\_reason\_3 & p21\_admission\_reason\_3\\ \hline
  	p21\_admission\_reason\_4 & p21\_admission\_reason\_4\\ \hline
  	p21\_admission\_reason\_tmp & p21\_admission\_reason\_tmp\\ \hline
  	p21\_department & p21\_department\\ \hline
  	p21\_department\_code\_mean & p21\_department\_code\_mean\\ \hline
  	p21\_department\_prefix & p21\_department\_prefix\\ \hline
  	p21\_discharge & p21\_discharge\\ \hline
  	p21\_merging\_reason & p21\_merging\_reason\\ \hline
  	p21\_remission\_reason & p21\_remission\_reason\\ \hline
  	p21\_remission\_relocation\_1\_2 & p21\_remission\_relocation\_1\_2\\ \hline
  	p21\_remission\_relocation\_3 & p21\_remission\_relocation\_3\\ \hline
  	p21\_remuneration\_area & p21\_remuneration\_area\\ \hline
  	protokoll\_typ & protokoll\_typ\\ \hline
  	prozedur\_typ & prozedur\_typ\\ \hline
  	pupille\_reaction & pupille\_reaction\\ \hline
  	pupille\_width & pupille\_width\\ \hline
  	r\_klassifikation & r\_klassifikation\\ \hline
  	release\_version & release\_version\\ \hline
  	rezidiv & rezidiv\\ \hline
  	sources & sources\\ \hline
  	status & status\\ \hline
  	status\_color & status\_color\\ \hline
  	status\_datenart & status\_datenart\\ \hline
  	sterbedatum\_exakt & sterbedatum\_exakt\\ \hline
  	stornierungsgrund & stornierungsgrund\\ \hline
  	strahlenart & strahlenart\\ \hline
  	tmp\_icd & tmp\_icd\\ \hline
  	tmp\_ops & tmp\_ops\\ \hline
  	tn24 & tn24\\ \hline
  	transportart & transportart\\ \hline
  	tumorauspraegung & tumorauspraegung\\ \hline
  	tumortod & tumortod\\ \hline
  	unfallart & unfallart\\ \hline
  	units & units\\ \hline
  	zipcode & zipcode\\ \hline
  
  \end{longtable}